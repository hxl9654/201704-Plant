//功能描述：GY-30光强传感器的操作
#ifndef _GY30_H_
#define _GY30_H_
#define GY30_ADDR 0x46	//ADDR脚接GND
//#define GY30_ADDR 0xB8	//ADDR脚接VCC
#include<config.h>
#include<IIC_Analog.h>
/*///////////////////////////////////////////////////////////////////////////////////
*函数名：GY30_PowerOn
*函数功能：设置GY-30为上电状态
*////////////////////////////////////////////////////////////////////////////////////
void GY30_PowerOn();
/*///////////////////////////////////////////////////////////////////////////////////
*函数名：GY30_PowerDown
*函数功能：设置GY-30为掉电状态
*////////////////////////////////////////////////////////////////////////////////////
void GY30_PowerDown();
/*///////////////////////////////////////////////////////////////////////////////////
*函数名：GY30_Start
*参数列表：
*   mode
*       参数类型：unsigned char型数据
*       参数描述：测量模式（1：快速模式，耗时16ms精度4 lx。2：高精度模式，耗时120ms精度1 lx。3：高精度模式2，耗时120ms精度0.5 lx，测量范围减半）
*函数功能：启动GY-30测量
*////////////////////////////////////////////////////////////////////////////////////
void GY30_Start(unsigned char mode);
/*///////////////////////////////////////////////////////////////////////////////////
*函数名：GY30_ReadOnce
*函数功能：获取GY-30测量结果
*返回值：一个float型数，测量结果
*////////////////////////////////////////////////////////////////////////////////////
float GY30_GetResult();
/*///////////////////////////////////////////////////////////////////////////////////
*函数名：GY30_ReadOnce
*函数功能：以启动一次GY-30测量，并返回测量结果（阻塞线程）
*参数列表：
*   mode
*       参数类型：unsigned char型数据
*       参数描述：测量模式（1：快速模式，耗时16ms精度4 lx。2：高精度模式，耗时120ms精度1 lx。3：高精度模式2，耗时120ms精度0.5 lx，测量范围减半）
*返回值：一个float型数，测量结果
*////////////////////////////////////////////////////////////////////////////////////
float GY30_ReadOnce(unsigned char mode);
/*///////////////////////////////////////////////////////////////////////////////////
*函数名：GY30_Start_Smart
*函数功能：启动GY-30智能读取模式
*////////////////////////////////////////////////////////////////////////////////////
void GY30_Start_Smart();
/*///////////////////////////////////////////////////////////////////////////////////
*函数名：GY30_GetResult_Smart
*函数功能：以智能模式获取GY-30测量结果
*返回值：一个float型数，测量结果
*////////////////////////////////////////////////////////////////////////////////////
float GY30_GetResult_Smart();

#endif